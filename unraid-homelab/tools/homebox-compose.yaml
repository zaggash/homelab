services:
  homebox:
    container_name: homebox
    image: ghcr.io/sysadminsmedia/homebox:0.22.1@sha256:812c28e29cd6d68ada31e7a0369ba71fd67c18d917ba3fac199e8a8c63d13b59
    labels:
      folder.view2: Tools
      net.unraid.docker.icon: ${SECRET_APPDATA}/icons/homebox.png
      traefik.enable: true
      traefik.docker.network: homelab_tools
      traefik.http.routers.homebox.rule: Host(`homebox.${SECRET_DOMAIN}`)
      traefik.http.routers.homebox.entryPoints: websecure
      traefik.http.services.homebox.loadbalancer.server.port: 7745
    volumes:
      - "${SECRET_APPDATA}/homebox:/data/"
    user: ${UID}:${GID}
    environment:
      TZ: ${TZ}
      HBOX_LOG_LEVEL: info
      HBOX_LOG_FORMAT: text
      HBOX_WEB_MAX_FILE_UPLOAD: 10
      HBOX_OPTIONS_ALLOW_ANALYTICS: false
      HBOX_OPTIONS_ALLOW_REGISTRATION: false
    networks:
      - tools
    restart: always
